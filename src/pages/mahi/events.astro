---
import Layout from "@layouts/Layout.astro";
import HeroSection from "@components/ui/HeroSection.astro";
import Card from "@components/ui/Card.astro";
import { Icon } from "astro-icon/components";
import { Image } from "astro:assets";
import type { ImageMetadata } from "astro";

import partnerDUCTF from "@assets/community-partners/ductf.svg";
import partnerKiwibots from "@assets/community-partners/kiwibots.png";
import partnerMOI from "@assets/community-partners/ministryofinspiration.png";
import robocupImage from "@assets/robocup-2025.jpg";

// Types
type UpcomingEvent = {
	title: string;
	description: string;
	icon: string;
	frequency: string;
	duration: string;
};

type Collab = {
	logo?: ImageMetadata;
	partnerName: string;
	eventName: string;
	description: string;
};

// Data
const upcomingEvents: UpcomingEvent[] = [
	{
		title: "Game Jams",
		description: "Weekend team game-building sprints and showcases.",
		icon: "heroicons:puzzle-piece",
		frequency: "Quarterly",
		duration: "~48h",
	},
	{
		title: "Robotics Competitions",
		description: "Design, build, and program robots to complete challenges.",
		icon: "heroicons:cpu-chip",
		frequency: "Seasonal",
		duration: "1–2 days",
	},
	{
		title: "Hackathons",
		description: "Collaborative coding to solve real-world problems.",
		icon: "heroicons:code-bracket",
		frequency: "Twice yearly",
		duration: "24–48h",
	},
];

const collabs: Collab[] = [
	{
		logo: partnerDUCTF,
		partnerName: "DownUnderCTF",
		eventName: "DownUnderCTF for Aotearoa",
		description:
			"National cybersecurity competition connecting rangatahi with real-world security challenges",
	},
	{
		logo: partnerKiwibots,
		partnerName: "Kiwibots",
		eventName: "VEX Robotics Competitions",
		description:
			"Competitive robotics tournaments where teams design, build, and program robots",
	},
	{
		logo: partnerMOI,
		partnerName: "Ministry of Inspiration",
		eventName: "RoboCup Junior",
		description:
			"International robotics challenge fostering STEM education through competitive robotics",
	},
	{
		logo: partnerMOI,
		partnerName: "Ministry of Inspiration",
		eventName: "Aquabots Challenge",
		description:
			"Underwater robotics competition combining engineering with environmental awareness",
	},
	{
		partnerName: "NZ Games Festival",
		eventName: "Student Game Jam",
		description:
			"Collaborative game creation events where rangatahi build games in teams over weekends",
	},
	{
		partnerName: "Genesia Girls",
		eventName: "All Girls Hackathon",
		description:
			"Empowering female rangatahi through collaborative coding and problem-solving challenges",
	},
];
---

<Layout title="Events" description="Competitions, hackathons, and partner-led events for rangatahi across the region.">
	<HeroSection
		title="Tech Events & <span class='gradient-text'>Competitions</span>"
		description="Showcase skills, connect with peers, and take on real-world challenges."
		image={robocupImage}
		imageAlt="RoboCup competition with student participants"
		backgroundClass="bg-white"
		ctaText="Explore Events"
		ctaHref="#types"
	/>

	<!-- Regular Events -->
	<section id="regular" class="bg-gradient-to-br from-tuhura-green/5 to-tuhura-blue/5 py-20 scroll-mt-24">
		<div class="container-custom">
			<div class="mx-auto mb-12 max-w-3xl text-center">
				<h2 class="mb-4 text-3xl font-bold md:text-4xl">Regular Events</h2>
				<p class="text-lg leading-relaxed text-gray-600">Recurring events through the year.</p>
			</div>
			<div class="grid grid-cols-1 gap-8 md:grid-cols-2">
				{upcomingEvents.map((event) => (
					<Card variant="hover" padding="lg">
						<div class="mb-6 flex items-start">
							<div class="mr-6 flex h-16 w-16 flex-shrink-0 items-center justify-center rounded-2xl bg-tuhura-green shadow-lg">
								<Icon name={event.icon} class="h-8 w-8 text-white" />
							</div>
							<div>
								<h3 class="text-2xl font-bold text-gray-900">{event.title}</h3>
								<div class="mt-2 flex gap-4 text-xs text-tuhura-green">
									<span class="font-medium">
										<Icon name="heroicons:calendar" class="mr-1 inline h-4 w-4" />
										{event.frequency}
									</span>
									<span class="font-medium">
										<Icon name="heroicons:clock" class="mr-1 inline h-4 w-4" />
										{event.duration}
									</span>
								</div>
							</div>
						</div>
						<p class="text-base leading-relaxed text-gray-700">{event.description}</p>
					</Card>
				))}
			</div>
		</div>
	</section>

	<!-- Partnership Collaborations -->
	<section id="collab" class="bg-tuhura-gray py-20 scroll-mt-24">
		<div class="container-custom">
			<div class="mx-auto mb-12 max-w-3xl text-center">
				<h2 class="mb-4 text-3xl font-bold md:text-4xl">Community Partnership Events</h2>
				<p class="text-lg leading-relaxed text-gray-600">Delivered with national and community partners.</p>
			</div>
			<div class="grid grid-cols-1 gap-8 lg:grid-cols-2">
				{collabs.map((collab) => (
					<Card variant="hover" padding="lg">
						<div class="mb-6 flex items-start">
							{collab.logo ? (
								<div class="mr-6 flex h-16 w-16 flex-shrink-0 items-center justify-center rounded-2xl bg-white p-2 shadow-lg">
									<Image src={collab.logo} alt={`${collab.partnerName} logo`} class="h-12 w-12 object-contain" />
								</div>
							) : (
								<div class="mr-6 flex h-16 w-16 flex-shrink-0 items-center justify-center rounded-2xl bg-tuhura-green shadow-lg">
									<Icon name="heroicons:building-office" class="h-8 w-8 text-white" />
								</div>
							)}
							<div>
								<h3 class="text-xl font-bold text-gray-900">{collab.eventName}</h3>
								<p class="text-sm font-medium text-tuhura-green">Partner: {collab.partnerName}</p>
							</div>
						</div>
						<p class="text-gray-700">{collab.description}</p>
					</Card>
				))}
			</div>
		</div>
	</section>
</Layout>

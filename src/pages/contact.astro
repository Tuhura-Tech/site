---
import Section from '@components/ui/Section.astro';
import Layout from '@layouts/Layout.astro';
---

<Layout title="Contact Us | Kōrero Mai">
	<Section padding="lg">
		<div class="mx-auto max-w-3xl text-center">
			<h1 class="text-4xl leading-tight font-bold md:text-5xl">
				Kōrero Mai <span class="gradient-text">(Get in Touch)</span>
			</h1>
			<p class="mt-6 text-xl text-gray-600">
				We'd love to hear from you! Whether you're a rangatahi wanting to join sessions, a kaiako
				seeking support, or a community partner wanting to collaborate - reach out for a kōrero
				(conversation).
			</p>
		</div>
	</Section>

	<Section background="tuhura-gray">
		<div class="mx-auto max-w-3xl overflow-hidden rounded-xl bg-white shadow-lg">
			<div class="p-8 md:p-12">
				<h2 class="mb-6 text-2xl font-bold md:text-3xl">Send Us a Message</h2>
				<form
					class="space-y-6"
					action="https://submit-form.com/Byck0EiW5"
					method="POST"
					id="contact-form"
				>
					<div class="grid grid-cols-1 gap-6 md:grid-cols-2">
						<div>
							<label for="name" class="mb-2 block font-medium text-gray-700">Name</label>
							<input
								type="text"
								id="name"
								name="name"
								class="w-full rounded-lg border border-gray-300 px-4 py-3 focus:border-tuhura-green focus:ring-2 focus:ring-tuhura-green"
								required
							/>
						</div>
						<div>
							<label for="email" class="mb-2 block font-medium text-gray-700">Email</label>
							<input
								type="email"
								id="email"
								name="email"
								class="w-full rounded-lg border border-gray-300 px-4 py-3 focus:border-tuhura-green focus:ring-2 focus:ring-tuhura-green"
								required
							/>
						</div>
					</div>
					<div>
						<label for="company" class="mb-2 block font-medium text-gray-700"
							>Organisation (Optional)</label
						>
						<input
							type="text"
							id="company"
							name="company"
							class="w-full rounded-lg border border-gray-300 px-4 py-3 focus:border-tuhura-green focus:ring-2 focus:ring-tuhura-green"
						/>
					</div>
					<div>
						<label for="subject" class="mb-2 block font-medium text-gray-700">Subject</label>
						<select
							id="subject"
							name="subject"
							class="w-full rounded-lg border border-gray-300 px-4 py-3 focus:border-tuhura-green focus:ring-2 focus:ring-tuhura-green"
							required
							onchange="formSubjectChange(this)"
						>
							<option value="" disabled selected>Select an option</option>
							<option value="Session Query">Session Information</option>
							<option value="Workshop">Workshop</option>
							<option value="Professional Development">Professional Development</option>
							<option value="Partnership">Partnership</option>
							<option value="Other">Other</option>
						</select>
					</div>
					<div>
						<label for="message" class="mb-2 block font-medium text-gray-700">Message</label>
						<textarea
							id="message"
							name="message"
							rows="5"
							class="w-full rounded-lg border border-gray-300 px-4 py-3 focus:border-tuhura-green focus:ring-2 focus:ring-tuhura-green"
							required></textarea>
					</div>
					<div>
						<button type="submit" class="btn btn-primary w-full md:w-auto"> Send Message </button>
					</div>
				</form>
			</div>
		</div>
	</Section>
</Layout>
<script>
	function formSubjectChange(event: Event) {
		let action;
		const select = event.target as HTMLSelectElement;
		switch (select.value) {
			case 'Session Query':
				action = 'https://submit-form.com/TZiHVi9Ke';
				break;
			case 'Workshop':
				action = 'https://submit-form.com/Lp6fxKSgP';
				break;
			case 'Professional Development':
				action = 'https://submit-form.com/kIyrj2oTX';
				break;
			case 'Partnership':
				action = 'https://submit-form.com/FbkLeNCgK';
				break;
			default:
				action = 'https://submit-form.com/Byck0EiW5';
		}
		(document.getElementById('contact-form') as HTMLFormElement).action = action;
	}
	// keep reference to avoid tree-shaking in some build tools
	(window as any).formSubjectChange = formSubjectChange;
</script>
